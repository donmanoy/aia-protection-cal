/*start data section for 2012 using needs lookup*/
/*spouse working*/
var _2012FEA= [359386,335083,310780,286477,262174,237871,237989.2,238107.4,238225.6,238343.8,238462,233686.8,228911.6,224136.4,219361.2,214586,228664.6,242743.2,256821.8,270900.4,284979,278788.2,272597.4,266406.6,260215.8,254025,270307.8,286590.6,302873.4,319156.2,335439,371810.6,408182.2,444553.8,480925.4,517297,522000.8,526704.6,531408.4,536112.2,540816,481002.4,421188.8,361375.2,301561.6,241748,241748,241748,241748,241748,241748];
var _2012MEA= [798978,774415.6,749853.2,725290.8,700728.4,676166,678925.6,681685.2,684444.8,687204.4,689964,674291.8,658619.6,642947.4,627275.2,611603,620937,630271,639605,648939,658273,645502,632731,619960,607189,594418,615421.8,636425.6,657429.4,678433.2,699437,724959.4,750481.8,776004.2,801526.6,827049,808242.8,789436.6,770630.4,751824.2,733018,674325.6,615633.2,556940.8,498248.4,439556,439556,439556,439556,439556,439556];
var _2012FEI=[1795967,1849945,1903923,1957901,2011879,2065857,2062261.2,2058665.4,2055069.6,2051473.8,2047878,2002548,1957218,1911888,1866558,1821228,1735732.8,1650237.6,1564742.4,1479247.2,1393752,1358094.6,1322437.2,1286779.8,1251122.4,1215465,1149172.6,1082880.2,1016587.8,950295.4,884003,854958.6,825914.2,796869.8,767825.4,738781,684793.8,630806.6,576819.4,522832.2,468845,413202.8,357560.6,301918.4,246276.2,190634,190634,190634,190634,190634,190634];
var _2012MEI=[2135610,2211206.4,2286802.8,2362399.2,2437995.6,2513592,2511547.6,2509503.2,2507458.8,2505414.4,2503370,2448479,2393588,2338697,2283806,2228915,2131352.4,2033789.8,1936227.2,1838664.6,1741102,1703920,1666738,1629556,1592374,1555192,1484453,1413714,1342975,1272236,1201497,1169097,1136697,1104297,1071897,1039497,971648,903799,835950,768101,700252,628531.8,556811.6,485091.4,413371.2,341651,341651,341651,341651,341651,341651];
var _2012FS=[388506,414103,439700,465297,490894,516491,527295.6,538100.2,548904.8,559709.4,570514,573114.2,575714.4,578314.6,580914.8,583515,558104.4,532693.8,507283.2,481872.6,456462,445467.2,434472.4,423477.6,412482.8,401488,373747,346006,318265,290524,262783,248064.6,233346.2,218627.8,203909.4,189191,167980.6,146770.2,125559.8,104349.4,83139,69961,56783,43605,30427,17249,17249,17249,17249,17249,17249];
var _2012MS=[388506,414103,439700,465297,490894,516491,527295.6,538100.2,548904.8,559709.4,570514,573114.2,575714.4,578314.6,580914.8,583515,558104.4,532693.8,507283.2,481872.6,456462,445467.2,434472.4,423477.6,412482.8,401488,373747,346006,318265,290524,262783,248064.6,233346.2,218627.8,203909.4,189191,167980.6,146770.2,125559.8,104349.4,83139,69961,56783,43605,30427,17249,17249,17249,17249,17249,17249];

/*2012 kids*/
var _2012Empiricalfor1child = [24533.5,29440.2,34346.9,39253.6,44160.3,49067,48612.7,48158.4,47704.1,47249.8,46795.5,46341.2,45886.9,45432.6,44978.3,44524,43021.9,41519.8,40017.7,38515.6,37013.5,35511.4,34009.3,32507.2,31005.1,29503,26552.7,23602.4,20652.1,17701.8,14751.5,11801.2,8850.9,5900.6,2950.3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
var _2012WithNormalDistribution = [35112.4384,39917.4645,43054.7614,45791.2582,47013.134,47411.233,47316.12,46984.0752,46555.6544,46082.616,45558.1134,44937.2132,44159.143,43180.943,42002.6132,40667.1134,39235.216,37755.7672,36251.2648,34716.904,33117.7746,31385.4108,29435.817,27209.617,24706.8108,21986.7746,19133.504,16219.4629,13295.5539,10414.559,7661.9291,5180.7268,3142.0695,1666.9195,755.2768,286.1791,88.509,20.6521,2.9503,0,0,0,0,0,0,0,0,0,0,0,0];

/*2012 parents*/
var _2012NHEWithParents = [10154.465,14994.344,21463.252,28709.961,36902.361,45506.068,53803.266,61097.776,66913.943,71487.659,74054.244,75265.924,74761.991,73586.277,71757.31,69393.064,66608.427,63714.08,60673.336,57609.8498,54504.3512,51397.8526,48290.354,45181.8554,42072.3568,38961.8582,35850.3596,32747.233,29652.4814,26578.6038,23541.2272,20559.1076,17651.007,14866.9334,12244.4148,9839.7352,7684.2046,5815.391,4255.2544,0,0,0,0,0,0,0,0,0,0,0,0];

/*2012 avg income*/
var _2012FMarriedEI63 = [42113,47559.8,53006.6,58453.4,63900.2,69347,71842.6,74338.2,76833.8,79329.4,81825,83218.6,84612.2,86005.8,87399.4,88793,85401,82009,78617,75225,71833,73959.4,76085.8,78212.2,80338.6,82465,79534.4,76603.8,73673.2,70742.6,67812,68040,68268,68496,68724,68952,65445,61938,58431,54924,51417,44676.2,37935.4,31194.6,24453.8,17713,17713,17713,17713,17713];
var _2012MMarriedEI71 = [42113,47559.8,53006.6,58453.4,63900.2,69347,71842.6,74338.2,76833.8,79329.4,81825,83218.6,84612.2,86005.8,87399.4,88793,85401,82009,78617,75225,71833,73959.4,76085.8,78212.2,80338.6,82465,79534.4,76603.8,73673.2,70742.6,67812,68040,68268,68496,68724,68952,65445,61938,58431,54924,51417,44676.2,37935.4,31194.6,24453.8,17713,17713,17713,17713,17713];
var _2012MMarriedEA107 = [20,18,16,14,12,10,9.8,9.6,9.4,9.2,9,8.6,8.2,7.8,7.4,7,7.6,8.2,8.8,9.4,10,9.6,9.2,8.8,8.4,8,8.6,9.2,9.8,10.4,11,11.2,11.4,11.6,11.8,12,12.6,13.2,13.8,14.4,15,17.2,19.4,21.6,23.8,26,26,26,26,26];
var _2012FMarriedEA100 = [12,10.6,9.2,7.8,6.4,5,4.8,4.6,4.4,4.2,4,3.8,3.6,3.4,3.2,3,3.6,4.2,4.8,5.4,6,5.6,5.2,4.8,4.4,4,4.6,5.2,5.8,6.4,7,7.8,8.6,9.4,10.2,11,11.8,12.6,13.4,14.2,15,15.8,16.6,17.4,18.2,19,19,19,19,19];
var _2012MSingle54 = [9,8.6,8.2,7.8,7.4,7,7,7,7,7,7,7,7,7,7,7,6.8,6.6,6.4,6.2,6,5.8,5.6,5.4,5.2,5,4.8,4.6,4.4,4.2,4,3.8,3.6,3.4,3.2,3,2.8,2.6,2.4,2.2,2,1.8,1.6,1.4,1.2,1,1,1,1,1];
var _2012FSingle47 = [9,8.6,8.2,7.8,7.4,7,7,7,7,7,7,7,7,7,7,7,6.8,6.6,6.4,6.2,6,5.8,5.6,5.4,5.2,5,4.8,4.6,4.4,4.2,4,3.8,3.6,3.4,3.2,3,2.8,2.6,2.4,2.2,2,1.8,1.6,1.4,1.2,1,1,1,1,1];
var _2012MMarriedEI88 = [51,48,45,42,39,36,35,34,33,32,31,29.8,28.6,27.4,26.2,25,24.8,24.6,24.4,24.2,24,23,22,21,20,19,18.8,18.6,18.4,18.2,18,17.4,16.8,16.2,15.6,15,14.8,14.6,14.4,14.2,14,15,16,17,18,19,19,19,19,19];
var _2012FMarriedEI81 = [43,40.4,37.8,35.2,32.6,30,29,28,27,26,25,24.2,23.4,22.6,21.8,21,20.6,20.2,19.8,19.4,19,18.2,17.4,16.6,15.8,15,14.6,14.2,13.8,13.4,13,12.6,12.2,11.8,11.4,11,10.6,10.2,9.8,9.4,9,9.4,9.8,10.2,10.6,11,11,11,11,11];
/*
 * 
var age = 0;
var sex = "M";//M/F
var kids = 0;//number of kids
var parents = 0;//number of parent
var monthlyIncome = 0;//monthly income
var spouse = "Y";//spouse working or not
var currentlyInsured = 0;//currently insured*/

function coupleNeedsV1() {
	var result = 0;
	if (sex == "M" && spouse == "Y") {
		result = _2012MEA[age - 20];
	}else if (sex == "F" && spouse == "Y") {
		result = _2012FEA[age - 20];
	}else if (sex == "M" && spouse == "n/a") {
		result = _2012MS[age - 20];
	}else if (sex == "F" && spouse == "n/a") {
		result = _2012FS[age - 20];
	}else if (sex == "M" && spouse == "N") {
		result = _2012MEI[age - 20];
	}else if (sex == "F" && spouse == "N") {
		result = _2012FEI[age - 20];
	}
	return result;
}


function coupleNeedsV2() {
	var result = 0;
	if (sex == "M" && spouse == "Y") {
		result = _2012MMarriedEA107[age - 20];
	}else if (sex == "F" && spouse == "Y") {
		result = _2012FMarriedEA100[age - 20];
	}else if (sex == "M" && spouse == "n/a") {
		result = _2012MSingle54[age - 20];
	}else if (sex == "F" && spouse == "n/a") {
		result = _2012FSingle47[age - 20];
	}else if (sex == "M" && spouse == "N") {
		result = _2012MMarriedEI88[age - 20];
	}else if (sex == "F" && spouse == "N") {
		result = _2012FMarriedEI81[age - 20];
	}
	return result * monthlyIncome * 12;
}


function kidsNeedsV1() {
	var result = 0;
	if (sex == "M" && spouse == "Y") {
		result = _2012WithNormalDistribution[age - 20] * kids;
	}else if (sex == "F" && spouse == "Y") {
		result = _2012WithNormalDistribution[age - 20] * kids;
	}else if (sex == "M" && spouse == "n/a") {
		result = _2012WithNormalDistribution[age - 20] * kids;
	}else if (sex == "F" && spouse == "n/a") {
		result = _2012WithNormalDistribution[age - 20] * kids;
	}else if (sex == "M" && spouse == "N") {
		result = _2012WithNormalDistribution[age - 20] * kids;
	}else if (sex == "F" && spouse == "N") {
		result = _2012WithNormalDistribution[age - 20] * kids;
	}
	return result;
}

function parentsNeedsV1() {
	var result = 0;
	result = _2012NHEWithParents[age - 20] * parents;
	return result;
}

function avgIncomeV1() {
	var result = 0;
	if (sex == "M" && spouse == "Y") {
		result = _2012MMarriedEI71[age - 20];
	}else if (sex == "F" && spouse == "Y") {
		result = _2012FMarriedEI63[age - 20];
	}else if (sex == "M" && spouse == "n/a") {
		result = _2012MMarriedEI71[age - 20];
	}else if (sex == "F" && spouse == "n/a") {
		result = _2012FMarriedEI63[age - 20];
	}else if (sex == "M" && spouse == "N") {
		result = _2012MMarriedEI71[age - 20];
	}else if (sex == "F" && spouse == "N") {
		result = _2012FMarriedEI63[age - 20];
	}
	return result;
}




/*2012 using needs lookup*/
function calculateProtectionNumberV1() {
    var _coupleNeeds = coupleNeedsV1();
    var _kidsNeeds = kidsNeedsV1();
    var _parentsNeeds = parentsNeedsV1();
    var _dependantNeeds = _kidsNeeds + _parentsNeeds;
    var _totalNeeds = _dependantNeeds + _coupleNeeds;
    var Inflation = 0;
    var _avgIncome = Math.ceil(avgIncomeV1());
    var _income = monthlyIncome * 12;
    var _incomeMultiplier = Math.max(1,(_income / _avgIncome)) * 100;
    var _grantTotalNeeds = Math.ceil((_totalNeeds  * (1 + Inflation) * _incomeMultiplier) / 100);
    /*alert("sex: " + sex + ", age: " + age + ", spouse: " + spouse + ", income: " + monthlyIncome
     + ", kids: " + kids + ", parents: " + parents + ", sured: " + currentlyInsured);
    alert("result: _coupleNeeds: " + _coupleNeeds 
            + " - _kidsNeeds: " + _kidsNeeds 
            + " - _avgIncome: " + _avgIncome
            + " - _totalNeeds: " + _totalNeeds
            + " - _dependantNeeds: " + _dependantNeeds
            + " - _income: " + _income + " - _incomeMultiplier: " + _incomeMultiplier + " - _grantTotalNeeds: " + _grantTotalNeeds);
    */        
    return _grantTotalNeeds;        
}
/*2012 using earnings multiple*/
function calculateProtectionNumberV2() {
    var _coupleNeeds = coupleNeedsV2();
    var _kidsNeeds = kidsNeedsV1();
    var _parentsNeeds = parentsNeedsV1();
    var _dependantNeeds = _kidsNeeds + _parentsNeeds;
    var Inflation = 0;
    var _avgIncome = Math.ceil(avgIncomeV1());
    var _income = monthlyIncome * 12;
    var _incomeMultiplier = Math.max(1,(_income / _avgIncome)) * 100;
    var _grantTotalNeeds = Math.ceil((_incomeMultiplier * _dependantNeeds) / 100 + _coupleNeeds);
    return _grantTotalNeeds;
}